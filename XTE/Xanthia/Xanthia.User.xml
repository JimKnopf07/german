<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.2//EN"
"http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd">
<chapter id="Xanthia.User" lang="de-DE"
         revision="$Revision$ $Date$"
         status="draft">
  <!-- $Id$ -->

  <title>Administrationshandbuch</title>

  <section id="Xanthia.User.Terms">
    <title>Xanthia Terminologie</title>

    <para>An dieser Stelle folgen einige Definitionen wichtiger Begriffe im
    Zusammenhang mit Xanthia.</para>

    <variablelist>
      <varlistentry>
        <term>Templates</term>

        <listitem>
          <para>Templates sind die Dateien, die die Layoutelement eines Themes
          / Moduls enthalten. Jedes Theme ist in mehrere Templates aufgeteilt,
          die zusammen mit dem Inhalt die fertige Seite ergeben. Templates
          bestehen aus normalem HTML in das Smarty-Tags eingebettet werden.
          Diese eingebetteten Tags werden dann durch dynamische Inhalte
          ersetzt. Dazu können auch einfache Logik-Elemente wie Schleifen und
          Bedingungen benutzt werden</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><glossterm>Zonen</glossterm> (engl: "Theme Zones")</term>

        <listitem>
          <para>Themes können in mehrere Zonen unterteilt werden. In jede Zone
          können sowohl Blöcke als auch Modul-Inhalte geladen werden. Wenn man
          sich die vorhandenen Xanthia-Themes betrachtet, kann man
          feststellen, dass zum Beispiel das News-Artikel-Template die
          themearticle-Funktion ersetzt hat.</para>

          <para><glossterm>Theme-Zonen</glossterm> unterteilen das Theme. Jede
          Zone stellt einen bestimmten Bereich des Themes dar. Zu jeder
          Theme-Zone gibt es ein Template.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Block Zones</term>

        <listitem>
          <para><glossterm>Block-Zonen</glossterm> definieren die Bereiche,
          denen Blöcke zugeordnet werden können. Blockzonen können dort im
          Theme positioniert werden, wo Blöcke angezeigt werden sollen. Dazu
          müssen die entsprechenden Tags in das Theme eingebaut werden.</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </section>

  <section id="Xanthia.User.Config">
    <title>Konfiguration</title>

    <screenshot>
      <mediaobject>
        <objectinfo>
          <title>The Xanthia Configuration Screen</title>
        </objectinfo>

        <imageobject>
          <imagedata fileref="Xanthia.AdminMenu.jpg" format="JPG" />
        </imageobject>

        <textobject>
          <phrase>The Xanthia Configuration Screen</phrase>
        </textobject>
      </mediaobject>
    </screenshot>

    <para>Die verschiedenen Optionen von Xanthia lassen sich über die
    Checkboxen ein- und ausschalten:</para>

    <variablelist>
      <varlistentry>
        <term>Use Visual Block Editor</term>

        <listitem>
          <para>Damit läßt sich der visuelle Block-Editor aktiveren. Mit
          diesem Tool hat der Admin die volle Kontrolle über die Blocks und
          kann sie beim Surfen durch die Site aktiveren/deaktivieren und
          verschieben. Dazu müssen die Blöcke in der normalen Blockverwaltung
          einfach eingeschaltet sein. Die Steuerung läuft dann über
          JavaSkript-Popups ab.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Use Short URLs</term>

        <listitem>
          <para>Mit der XTE haben endlich die Kurzen URLs ihren Weg in den
          Postnuke Core gefunden. Über diese Einstellung lassen sie sich
          aktivieren. Dazu muß allerdings noch eine htaccess-Datei aus dem
          Verzeichnis modules\Xanthia\pndocs\short_urls ins Hauptverzeichnis
          der Site kopiert werden.</para>

          <tip>
            <para>You will see the items related to short URLs only if a
            .htaccess file is in your PostNuke root directory and your web
            server is capable of rewriting URLs.</para>
          </tip>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Extension to use for short URLs (excluding .)</term>

        <listitem>
          <para>Die Dateiendung, die die Kurzen URLs benutzen sollen muß hier
          - ohne . - angegeben werden. Es stehen 3 Lösungen für die
          Dateiendungen zur Verfügung: htm, html, phtml - je nachdem, welche
          htaccess benutzt wird.Während der Installation darf unter
          Administration/Einstellungen kein Xanthia-Theme als Site-Theme
          eingestellt sein.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Enable Caching</term>

        <listitem>
          <para>Aktiviert das Caching von Xanthia-Seiten. Caching erhöht die
          Performance der Site ungemein, weil die Inhalte der gechachten
          Seiten nicht mehr aus der Datenbank bezogen, sondern aus dem
          Filesystem gelesen werden.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Check for updated Version of Templates</term>

        <listitem>
          <para>Aktiviert, raubt diese Option etwas Performance, wenn aber das
          Caching eingeschaltet ist, würden Änderungen an den Templates nicht
          übernommen. Wenn aber keine Änderungen an den Templates mehr
          anstehen, sollte sie ausgeschaltet werden.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Force Recompile of Templates</term>

        <listitem>
          <para>Durch diese Funktion würden Templates in jedem Fall neu
          kompiliert - das Caching wäre effektlos.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>How long to Cache Pages</term>

        <listitem>
          <para>Wie viele Sekunden sollen die Seiten gecacht werden?</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Store Templates in Database</term>

        <listitem>
          <para>Select if you want to store the templates in the PostNuke
          database.</para>

          <para>When you decide not to store the templates in the database,
          you lose the online editing of templates but reduce database load
          during a page compile. This makes the theme development cycle easier
          as you don't have to worry about templates in the db and on the file
          system. Unless you are in the process of theme development, we
          recommend to store templates in the database.</para>

          <note>
            <para>Smarty only accesses templates from the database on the
            first visit to the page. Then it will not access the database or
            even check the database again because it uses the compiled
            templates. Anytime a change is made to a template, either by
            reloading templates, or modifying them through the web panel the
            old version of the compiled template is deleted. This is the
            <emphasis>only</emphasis> time that Smarty will access the
            database to get the uncompiled template again. The way Xanthia is
            coded it passes a timestamp back to Smarty so it tricks smarty
            into thinking the template has not been modified.</para>
          </note>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Use Trim Whitespace Filter</term>

        <listitem>
          <para>Durch diese Option werden alle überflüssigen Leerzeichen aus
          dem HTML-SourceCode gefiltert, bevor Inhalte an den Browser gegeben
          werden. Dadurch sinkt die Performance leicht, es müssen aber weniger
          Daten an den Client geliefert werden.</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </section>

  <section id="Xanthia.User.ConfigThemes">
    <title>Installing and Configuring Xanthia Themes</title>

    <section id="Xanthia.User.ConfigThemes.Adding">
      <title>Themes installieren</title>

      <caution>
        <para>If installing the <application>Xanthia Theme Pack</application>
        ensure that you have changed your default theme too a non-Xanthia
        theme. This can be a third party, or the
        <application>extra-lite</application> core theme.</para>
      </caution>

      <para>Xanthia Theme-Templates sind immer in einem Verzeichnis mit dem
      Namen des Themes gesammelt. Dieses Verzeichnis wird dann in das
      Verzeichnis /themes kopiert. Ruft man nun die Xanthia Theme
      Administration (<guimenuitem>View Themes</guimenuitem>) auf, so
      erscheint eine Tabelle mit allen verfügbaren Xanthia-Themes. "Normale"
      Themes werden hier nicht aufgeführt.</para>

      <para>Mit "<guimenuitem>add Theme</guimenuitem>" kann das neue Theme
      hinzugefügt werden. Das Theme wird nun als aktiv angezeigt und kann in
      den Site-Einstellungen als Theme ausgewählt werden.</para>

      <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata fileref="Xanthia.ViewThemes.jpg" format="JPG" />
          </imageobject>

          <textobject>
            <phrase>The "<guimenuitem>View Themes</guimenuitem>" Bildschirm in
            Xanthia</phrase>
          </textobject>

          <caption>
            <para>The "<guimenuitem>View Themes</guimenuitem>" Bildschirm in
            Xanthia</para>
          </caption>
        </mediaobject>
      </screenshot>
    </section>

    <section id="Xanthia.User.ConfigThemes.Editing">
      <title>Bearbeiten von Themes</title>

      <para>Nachdem ein neues Theme hinzugefügt wurde, kann es bearbeitet
      werden, indem man "<guimenuitem>edit theme</guimenuitem>" in der
      Theme-Übersicht auswählt. Es steht nun verschiedene Funktionen zur
      Verfügung: <guimenuitem>Block Zones</guimenuitem>, <guimenuitem>Theme
      Zones</guimenuitem>, <guimenuitem>Theme Templates,</guimenuitem>
      T<guimenuitem>heme Colors</guimenuitem>, <guimenuitem>Theme
      Settings</guimenuitem>, und <guimenuitem>Block
      Control</guimenuitem>.</para>

      <section id="Xanthia.User.BlockZones">
        <title>Block-Zonen</title>

        <para>Block Zonen definieren die Bereiche in einem Theme, in dem
        Blöcke angezeigt werden sollen. Unter diesem Menüpunkt kann man
        ersehen, welche Block-Zonen zur Verfügung stehen und wie sie heißen.
        Dieses Menü wird sehr wenig gebraucht werden. Nur wenn komplette
        Block-Zonen ein- und ausgeschaltet werden sollen, muß man das hier
        tun. Um eine Block-Zone hinzuzufügen müssen zwei Schritte eingehalten
        werden:</para>

        <orderedlist>
          <listitem>
            <para>Block-Zone hinzufügen. Um dies zu tun, muß man am unteren
            Ende der Übersicht das Tag und den Namen der Zone definieren. Zum
            Beispiel: "Tutorial Test Block" und TUTORIAL. Diese Block-Zone
            kann dann in den Templates positioniert werden. Blöcke, die dieser
            Zone zugeordnet werden, werden dann dort angezeigt.</para>
          </listitem>

          <listitem>
            <para>Im Theme muß - wie gesagt - an der richtigen Stelle das Tag
            zum Aufrufen der Zone eingefügt werden. In diesem Fall wäre das
            das Tag Code: &lt;!--[$TUTORIAL]--&gt;</para>
          </listitem>
        </orderedlist>

        <para>Auf umgekehrte Art können Block-Zonen jederzeit auch wieder aus
        dem Theme entfernt werden. Die Themes aus dem Xanthia-Paket oder dem
        Postnuke .8 Paket enthalten eine Reihe vorkonfigurierter
        Block-Zonen.</para>

        <screenshot>
          <mediaobject>
            <imageobject>
              <imagedata fileref="Xanthia.BlockZones.jpg" format="JPG" />
            </imageobject>

            <textobject>
              <phrase>Xanthia's <guimenuitem>Block Zones</guimenuitem>
              Bildschirm</phrase>
            </textobject>

            <caption>
              <para>Xanthia's <guimenuitem>Block Zones</guimenuitem>
              Bildschirm</para>
            </caption>
          </mediaobject>
        </screenshot>
      </section>

      <section id="Xanthia.User.ThemeZones">
        <title><guimenuitem>Theme Zones </guimenuitem></title>

        <para><glossterm>Theme-Zonen</glossterm> stellen die einzelnen
        Bereiche eines Themes dar, aus denen es zusammengesetzt ist. Jeder
        einzelnen Zone ist ein eigenes <glossterm>Template</glossterm>
        (Vorlage) zugeordnet, das für die Darstellung dieser Zone verwendet
        wird.</para>

        <para>Einige <glossterm>Theme-Zonen</glossterm> sind notwendig und
        können entsprechend nicht entfernt werden. Andere, zusätzliche und
        optionale <glossterm>Theme-Zonen</glossterm> (<glossterm>Addon Theme
        Zones</glossterm>) können hingegen jederzeit deaktiviert und gelöscht
        werden. Mittels der Auswahl <guimenu>configure</guimenu> können den
        einzelnen Zonen <glossterm>Templates</glossterm> zugewiesen
        werden.</para>

        <para>Natürlich können auch neue Theme-Zonen erstellt werden. Auf
        diesem Weg kann man unterschiedlichen Modulen ein eigenständiges
        Aussehen zuweisen.</para>

        <para>Um eine Theme-Zone zu erstellen, muss zunächst ein Template
        erstellt werden, das im <glossterm>pnTemplates</glossterm>-Verzeichnis
        des Themes abgelegt wird. Sodann ist der Link <guimenu>Add New
        Theme</guimenu> (neues Theme hinzufügen) am oberen Rand des
        Theme-Zonen Menüs zu wählen. Dadurch erhält man ein Formular, in dem
        folgende Felder ausgefüllt werden müssen:<variablelist>
            <varlistentry>
              <term>Zone Name</term>

              <listitem>
                <para>Hier wird der Name für die Theme Zone angegeben. Er kann
                z.B. als Kurzbeschreibung der Zone dienen. Jede Zone sollte
                einen eindeutigen und nicht mehrfach verwendeten Namen
                bekommen.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>Zone Label</term>

              <listitem>
                <para>Die Zonenbeschreibung (<glossterm>Zone
                Label</glossterm>) wird auf Grundlage der Auswahl in der
                dropdown-Liste automatisch erstellt. Die vorgegebene Zuweisung
                sollte nicht verändert werden.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>New master for module</term>

              <listitem>
                <para>Beim Erstellen der Vorlage für ein Modul
                (<glossterm>module template</glossterm>) ist zunächst das
                Modul zu bestimmen, dem die Vorlage zugewiesen werden
                soll.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>New skin for block</term>

              <listitem>
                <para>Unter diesem Auswahlpunkt wird ein Block bestimmt, dem
                eine neue Block-Vorlage (<glossterm>block
                template</glossterm>) zugeordnet wird.</para>
              </listitem>
            </varlistentry>
          </variablelist></para>

        <para>Nachdem die vorgegebenen Felder ausgefüllt wurden, ist die
        Erstellung der Vorlage mit submit (<glossterm>einreichen</glossterm>)
        zu bestätigen. Danach ist die neue Vorlage für das Theme
        verfügbar.</para>

        <screenshot>
          <mediaobject>
            <imageobject>
              <imagedata fileref="Xanthia.ThemeZones.jpg" format="JPG" />
            </imageobject>

            <textobject>
              <phrase>Xanthia's <guimenuitem>Theme Zones</guimenuitem>
              Bildschirm</phrase>
            </textobject>

            <caption>
              <para>Xanthia's <guimenuitem>Theme Zones</guimenuitem>
              Bildschirm</para>
            </caption>
          </mediaobject>
        </screenshot>
      </section>

      <section id="Xanthia.ThemeEditing.ThemeTemplates">
        <title>Theme Templates</title>

        <para>In diesem Menü werden die Themen-, Modul- und Block-Templates
        angezeigt, die bereits festgelegt worden sind. Mittels des
        <guimenu>EDIT</guimenu>-Links, der ein Bearbeitungsfenster öffnet,
        kann ein Template bearbeitet werden</para>

        <caution>
          <para>Immer wenn die Templates neugeladen werden (reload templates),
          gehen alle vorgenommenen Veränderungen verloren. <remark>In
          zukünftigen Versionen wird es die Möglichkeit geben, die Zeitstempel
          der Dateien auf dem Server mit denen der Templates in der Datenbank
          zu vergleichen. Zeigt der Vergleich, dass die Version einer Vorlage
          im Dateisystem aktueller ist als die in der Datenbank, wird es dem
          Benutzer möglich sein, die in der Datenbank gespeicherte Version zu
          aktualisieren. Ergibt der Vergleich, dass die Datenbank-Version der
          Vorlage hingegen neuer ist, kann diese zwar immer noch überschrieben
          werden, jedoch erhält man zusätzlich die Möglichkeit, die Vorlage
          aus der Datenbank auf seinem eigenen, lokalen Rechner zu sichern.
          </remark></para>
        </caution>

        <para>Die meisten Templates funktionieren nur, wenn sie einer
        bestimmten Zone zugeordnet werden, sind also nicht austauschbar. Eine
        Block-Zone ist zum Beispiel nicht sehr gut geeignet, um als Vorlage
        für einen News-Artikel verwendet zu werden. Andersherum ist dies
        natürlich genauso.</para>

        <para>Alle Themen benötigen ein Template für die linke Seitenbox (Left
        Sidebox/left blocks), ein Template für die Master-Zone, ein Template
        für News-Artikel und ein Template für den OpenTable.</para>

        <screenshot>
          <mediaobject>
            <imageobject>
              <imagedata fileref="Xanthia.ThemeTemplates.jpg" format="JPG" />
            </imageobject>

            <textobject>
              <phrase>Xanthia's <guimenuitem>Theme Templates</guimenuitem>
              Bildschirm</phrase>
            </textobject>

            <caption>
              <para>Xanthia's <guimenuitem>Theme Templates</guimenuitem>
              Bildschirm</para>
            </caption>
          </mediaobject>
        </screenshot>
      </section>

      <section id="Xanthia.User.ThemeColors">
        <title>Theme Colors</title>

        <para>Die Farben eines Xanthia-Themes werden durch die
        <emphasis>colour palette</emphasis> (Farbpalette) in der
        <glossterm>Theme Colours</glossterm>-Auswahl des Administrationsmenüs
        von Xanthia bestimmt. Mit Hilfe der Paletten ist es dem Designer des
        Themes möglich, einem Theme verschiedene Farb-Sets zuzuordnen.</para>

        <para>Damit mehrere Farbpaletten zugleich verwendet werden können,
        müssen die <glossterm>dynamic stylesheets</glossterm> aktiviert sein.
        Von den Standard-Themes, die im Grundpaket von Xanthia enthalten sind,
        unterstützt allein pnDefault die dynamic stylesheets.</para>

        <para>Ein Farbschema (colour scheme) wird durch den Link
        <guimenuitem>Use Palette</guimenuitem> aktiviert.</para>

        <para>Die Farben einer Palette werden durch den
        <guimenuitem>Configure</guimenuitem>-Link verändert. Dieser Link ruft
        einen visuellen Editor auf. Dieser funktioniert wie folgt: Der
        Farbbereich des Themes, der verändert werden soll, wird mit den
        Auswahlknöpfen am oberen Rand des Editors (color1, color2) festgelegt.
        Ist dies geschehen, kann die neue Farbe mit der Maus in der
        Farbpalette ausgewählt werden.</para>

        <para>Durch ein Eingabe-Feld am unteren Bildschirmrand kann die
        Palette umbenannt werden.</para>

        <para>Ist die Auswahl der Farben abgeschlossen, werden die neuen
        Einstellungen durch den ebenfalls am unteren Bildschirmrand zu
        findenden Link <guimenuitem>submit these colors</guimenuitem>
        gespeichert.</para>

        <para>Es ist möglich, eigene Farbpaletten für Themes zu erstellen.
        Durch den Link <guimenuitem>Add Theme Colour Palette</guimenuitem>
        wird der bereits bekannte visuelle Editor aufgerufen, allerdings mit
        dem Unterschied, dass beim Erstellen einer neuen Palette zunächst
        keine Farbzuweisungen vorhanden sind.</para>

        <screenshot>
          <mediaobject>
            <imageobject>
              <imagedata fileref="Xanthia.ThemeColors.jpg" format="JPG" />
            </imageobject>

            <textobject>
              <phrase>Xanthia's <guimenuitem>Theme Colors</guimenuitem>
              Screen</phrase>
            </textobject>

            <caption>
              <para>Xanthia's <guimenuitem>Theme Colors</guimenuitem>
              Bildschirm</para>
            </caption>
          </mediaobject>
        </screenshot>
      </section>

      <section id="Xanthia.User.ThemeSettings">
        <title>Theme Settings</title>

        <para><emphasis>Theme-Variablen</emphasis> (theme variables) sind an
        ein Theme gebundene Konfigurationsmöglichkeiten. Sie werden von der
        Theme Engine gespeichert und können vom Administrator der Seite über
        das Xanthia Administrationsmenü aktualisiert werden.</para>

        <para>Der Einsatzmöglichkeiten dieser Variablen sind vielschichtig und
        variieren von Theme zu Theme. Beispiel dieser Variablen sind die
        Seitenbreite, Parameter für die linken und rechten Blöcke,
        Schriftgrößen und andere, die vom gewählten Theme abhängig sind.
        Bestimmte Einstelloptionen, wie etwa die top links und bottom links,
        werden durch die Werte 0 und 1 ein-, bzw. ausgeschaltet.</para>

        <screenshot>
          <mediaobject>
            <imageobject>
              <imagedata fileref="Xanthia.ThemeSettings.jpg" format="JPG" />
            </imageobject>

            <textobject>
              <phrase>Xanthia's <guimenuitem>Theme Settings</guimenuitem>
              Bildschirm</phrase>
            </textobject>

            <caption>
              <para>Xanthia's <guimenuitem>Theme Settings</guimenuitem>
              Bildschirm</para>
            </caption>
          </mediaobject>
        </screenshot>
      </section>

      <section id="Xanthia.User.BlockControl">
        <title>Block Control</title>

        <para>Xanthia ermöglicht es, Blöcke in Abhängigkeit von Modulen
        darzustellen. Jedem Modul können somit verschiedene Blöcke zugewiesen
        werden. Dies ermöglicht einen unglaublichen Gestaltungsspielraum des
        Erscheinungsbildes der Blöcke auf der Seite. Im Block Control
        Administrationsmenü können die im Theme verfügbaren Block-Zonen
        festgelegt werden,</para>

        <para>Um die Block Control zu verwenden, muss zunächst im Menü
        <menuchoice>
            <guimenu>Administration</guimenu>

            <guimenuitem>Blocks</guimenuitem>
          </menuchoice> der Block erstellt werden, der hinzugefügt werden
        soll.</para>

        <sidebar>
          <note>
            <para>Die Positionsangaben in der Block Administration
            beeinflussen ein Xanthia Theme lediglich dadurch, dass sie die
            Ausgangsposition eines Blocks bei der Installation eines neuen
            Themes definieren. Danach übernimmt die Theme Engine die Kontrolle
            über die Plazierung der Blöcke.</para>

            <para><remark>Further integration is needed here to effectively
            present the value and usage of the block postion. But this is
            diifficult to achieve while keeping the modualrity of the theming
            system</remark></para>
          </note>
        </sidebar>

        <para>Um einen Block zu einem Modul hinzuzufügen, müssen das Modul,
        dem der Block zugeordnet werden soll und der zuzuordnende Block aus
        den beiden Listenfeldern ausgewählt werden. Durch den Link
        <guimenuitem>add</guimenuitem> wird der Block dann zugewiesen. Es ist
        möglich, einem Modul gleichzeitig mehrere Blöcke zuzuordnen. Natürlich
        kann man Blöcke auch jederzeit wieder entfernen. Dazu dient der Link
        <guimenuitem>remove</guimenuitem> in der Reihe des Blocks, der
        gelöscht werden soll. Die Zuordnung des Blocks zu den restlichen
        Modulen ist davon nicht betroffen, das Entfernen eines Blocks gilt
        also jeweils nur für das ausgewählte Modul.</para>

        <para>Nachdem ein Block einem Modul zugeordnet wurde, kann man
        bestimmen, welche der möglichen <emphasis>block positions</emphasis>
        der Block einnehmen soll. Diese Auswahl wird über die (drop down) Box
        in der <guimenuitem>Position</guimenuitem> Spalte festgelegt. Die
        Auswahlmöglichkeiten in dieser Box entsprechen den Block-Zonen, die im
        Adminstrationsmenü Block-Zonen bestimmt wurden. Die vertikale
        Anordnung der Blöcke kann dabei über die Pfeilsymbole (hoch/runter) in
        der Liste festgelegt werden.</para>

        <para>Die alphabetische Liste dient der einfacheren Navigation. Durch
        Anklicken eines Buchstabens werden nur die Module angezeigt, deren
        Namen mit dem ausgewählten Buchstaben beginnen. Der Link mit dem
        Sternchen ruft eine Liste aller Module ab.</para>

        <screenshot>
          <mediaobject>
            <imageobject>
              <imagedata fileref="Xanthia.BlockControl.jpg" format="JPG" />
            </imageobject>

            <textobject>
              <phrase>Xanthia's <guimenuitem>Block Control</guimenuitem>
              Bildschirm</phrase>
            </textobject>

            <caption>
              <para>Xanthia's <guimenuitem>Block Control</guimenuitem>
              Bildschirm</para>
            </caption>
          </mediaobject>
        </screenshot>
      </section>
    </section>
  </section>

  <section id="Xanthia.User.CommonTasks">
    <title>Common Tasks for Xanthia themes</title>

    <warning>
      <para>Ein Theme, das man entwickelt, sollte niemals im aktivierten
      Zustand bearbeitet werden! Um die Veränderungen nachzuvollziehen, sollte
      auf die Option <guimenuitem>theme preview</guimenuitem>
      (<command>index.php?theme=<replaceable>yourtheme</replaceable></command>)
      zurückgegriffen werden.</para>
    </warning>

    <section id="Xanthia.User.ModuleTemplates">
      <title>Custom Module Templates</title>

      <para>Xanthia ermöglicht es der Seite unterschiedliche, modulbasierte
      Templates zuzuweisen. In Abhängigkeit vom aktiven Modul, kann die Seite
      somit ein verschiedenes Design erhalten. Einem Modul kann allerdings
      jeweils nur ein Template zugeordnet werden.</para>

      <para>Im Folgenden werden die Schritte erklärt, um modulspezifische
      Templates zu erstellen. Alle wichtigen Menüs befinden sich unter
      <menuchoice>
          <guimenu>Administration</guimenu>

          <guisubmenu>Xanthia</guisubmenu>

          <guisubmenu>View Themes</guisubmenu>

          <guimenuitem>Edit Theme</guimenuitem>
        </menuchoice>.</para>

      <procedure>
        <step>
          <title>Ein neues Template für ein Modul erstellen.</title>

          <para>Wähle <menuchoice>
              <guimenu>Theme Templates</guimenu>

              <guimenuitem>New Module Template</guimenuitem>
            </menuchoice> aus und erstelle ein neues Template für das Modul
          (siehe auch <xref linkend="Xanthia.ThemeEditing.ThemeTemplates" />).
          Obwohl der Name für das Template frei bestimmt werden kann,
          empfiehlt es sich, den Namen des Moduls zu verwenden, dem das
          Template zugeordnet wird. Als Grundlage für die Erstellung eines
          neuen Templates bietet sich die master.htm des Themes an. Den
          html-code dieser Datei kann man in das Text-Feld kopieren, das den
          html-code für das neue Template in der Datenbank ablegt.</para>
        </step>

        <step>
          <title>Eine neue Theme Zone hinzufügen</title>

          <para>Wähle <menuchoice>
              <guimenu>Theme Zones</guimenu>

              <guimenuitem>Add New Zone</guimenuitem>
            </menuchoice> aus und fülle die vorgegebenen Felder (gemäß den
          Beschreibungen) aus ...</para>

          <variablelist>
            <varlistentry>
              <term>Zone Name</term>

              <listitem>
                <para>Ein Name eigener Wahl</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>Zone Label</term>

              <listitem>
                <para>Dies wird durch die nächste Option bestimmt.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>New master for module</term>

              <listitem>
                <para>Hier ist das Modul auszuwählen, dem ein neues Template
                zugeordnet werden soll</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>New skin for block</term>

              <listitem>
                <para>Hier sollte nichts verändert werden..</para>
              </listitem>
            </varlistentry>
          </variablelist>
        </step>

        <step>
          <title>Configure Zone</title>

          <para>When page refreshes after you commit changes in above step you
          will see that the zone you created is now inactive and has no
          template assigned. You must <emphasis role="bold">first</emphasis>
          configure this zone before activating.</para>

          <para>Click <guimenuitem>Configure</guimenuitem>. You will have a
          drop down list of module templates (if block templates show up, you
          didn't leave "New Sikn for Block" unset un the last step). Choose
          the template from the list to use for this module and submit the
          changes.</para>
        </step>

        <step>
          <title>Activate this zone</title>

          <para>When page refreshes after you commit changes in above step you
          will see that the zone you created now shows the template you
          assigned. Now you must activate this zone by clicking on
          <guimenuitem>activate</guimenuitem>.</para>
        </step>

        <step>
          <title>Test your changes</title>

          <para>Go to the module you have created the template for. Your site
          should now use a different design.</para>
        </step>
      </procedure>
    </section>

    <section id="Xanthia.User.CommonTasks.BlockTemplates">
      <title>Custom Block Templates</title>

      <para>As with module templates, Xanthia provides the possibility to use
      different templates for each block. You can create as many block
      templates as you like. Each block can have a different template in each
      module also.</para>

      <para>Here are the steps for creating a block specific template in
      Xanthia. Again, all relevant menu items are located in <menuchoice>
          <guimenu>Administration</guimenu>

          <guisubmenu>Xanthia</guisubmenu>

          <guisubmenu>View Themes</guisubmenu>

          <guimenuitem>Edit Theme</guimenuitem>
        </menuchoice>.</para>

      <procedure>
        <step>
          <title>Create a new template for the block</title>

          <para>Enter <menuchoice>
              <guimenu>Theme Templates</guimenu>

              <guimenuitem>New Block Template</guimenuitem>
            </menuchoice> and create a new template for the Block (see<xref
          linkend="Xanthia.ThemeEditing.ThemeTemplates" />). Altough you can
          name it whatever you like, we recommend to name it after the block
          you are creating it for. You can copy and paste your current
          rsblock.htm or lsblock.htm in the New Block Template text area to
          have a basis to start wth.</para>
        </step>

        <step>
          <title>Add a new Theme Zone</title>

          <para>Enter <menuchoice>
              <guimenu>Theme Zones</guimenu>

              <guimenuitem>Add New Zone</guimenuitem>
            </menuchoice> and fill in the required fields as decribed
          ...</para>

          <variablelist>
            <varlistentry>
              <term>Zone Name</term>

              <listitem>
                <para>This is a unique name of your choosing</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>Zone Label</term>

              <listitem>
                <para>this will be automatically set when you choose the next
                option.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>New master for module</term>

              <listitem>
                <para>Leave this unset.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>New skin for block</term>

              <listitem>
                <para>Choose the block you created it for.</para>
              </listitem>
            </varlistentry>
          </variablelist>
        </step>

        <step>
          <title>Configure Zone</title>

          <para>When page refreshes after you commit changes in above step you
          will see that the zone you created is now inactive and has no
          template assigned. You must <emphasis role="bold">first</emphasis>
          configure this zone before activating.</para>

          <para>Click <guimenuitem>Configure</guimenuitem>. You will have a
          drop down list of block templates. Choose the template from the list
          to use for this block and submit the changes.</para>
        </step>

        <step>
          <title>Activate this zone</title>

          <para>When page refreshes after you commit changes in above step you
          will see that the zone you created now shows the template you
          assigned. Now you must activate this zone by clicking on
          <guimenuitem>activate</guimenuitem>.</para>
        </step>

        <step>
          <title>Test your changes</title>

          <para>Verify that the block you have created the template for now
          uses this template.</para>
        </step>
      </procedure>

      <para>To assign different templates depending on the current module, you
      go thru the steps above creating as many block templates as you like.
      But you can only set one template for the new zone.</para>

      <para>To set a different template for a block that will show in a
      specific Module you must activate the Visual Block Editor in <menuchoice>
          <guimenu>Xanthia</guimenu>

          <guimenuitem>Configure Xanthia</guimenuitem>
        </menuchoice>.</para>

      <para>Now, go to the module where you want to change the Block Template.
      Click on the icon to open he Visual Block Editor window. Choose a
      Template from the drop down list and click submit. Remember you must
      have this block already set in the above step for this to work. (I will
      be adding the ability to Xanthia later to allow this to work even if you
      have not set the block in the above steps.)</para>

      <para>You can also use Block Control to change the Template for a block:
      <menuchoice>
          <guimenu>Xanthia</guimenu>

          <guisubmenu>View Themes</guisubmenu>

          <guisubmenu>Edit Theme</guisubmenu>

          <guimenuitem>Block Control</guimenuitem>
        </menuchoice><remark>This needs review, as I can't find it in Block
      Control. -- jn</remark></para>
    </section>

    <section id="Xanthia.User.CommonTasks.BlockZones">
      <title>add a Block Zone to your templates and make it available to Block
      Control</title>

      <procedure>
        <step>
          <title>Enter the Block Zones Administration</title>

          <para>Click on <menuchoice>
              <guimenu>Administration</guimenu>

              <guisubmenu>Xanthia</guisubmenu>

              <guisubmenu>View Themes</guisubmenu>

              <guisubmenu>Edit Theme</guisubmenu>

              <guimenuitem>Block Zones</guimenuitem>
            </menuchoice></para>
        </step>

        <step>
          <title>Create a new Block Zone</title>

          <para>Fill in the fields at the bottom of the table.</para>

          <variablelist>
            <varlistentry>
              <term>zone description</term>

              <listitem>
                <para>This can be named whatever you want.</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>tag to use in theme</term>

              <listitem>
                <para>This is the tag as you will use it in your theme do not
                use the <markup>&lt;!--[$NAME]--&gt;</markup> just put the
                text there.</para>
              </listitem>
            </varlistentry>
          </variablelist>

          <para>Click on Submit.</para>
        </step>

        <step>
          <para>Modify you templates to use this new Zone using the
          <markup>&lt;!--[$TAGTOUSEINTHEME ]--&gt;</markup></para>
        </step>
      </procedure>
    </section>

    <section id="Xanthia.User.CommonTasks.ShortURLs">
      <title>Implementing Short URLs</title>

      <para>Xanthia implements the commonly used Short URLs implementation
      that has been available as an addon for PostNuke for some time. This
      system requires a web server with a URL rewriting engine. For the
      commonly used apache web server this is called mod_rewrite. For other
      web servers other compatable rewrite engines are available.</para>

      <section id="Xanthia.User.CommonTasks.ShortURLs.How">
        <title>How it works?</title>

        <para>Short URLs works by taking the generated output and replacing
        each url found in this output with a given shorter url based on some
        simple pattern matching rules. The output provided to the browser now
        contains these shortend URLs. This is half the job done. The web
        server now need to translate these shortend URLs back into full urls
        used by the postnuke engine. This job is done by the rewrite engine.
        For apache a .htaccess file is placed in the PostNuke root. The
        .htaccess contains a mirror image of the patterns used earlier in the
        process.</para>

        <para>Rules are provided for a number of common modules e.g My
        eGallery, pnPHPBB2 etc. as well as general rules for all other
        modules. In addtion a number of url extension schemes are provided to
        suit the preferences of the site administrator.</para>

        <para>The specific implementation in Xanthia differs from other
        implementations by making full use of the smarty templating
        architecture on which XTE is built. Smarty provides a fearture called
        outputfilters. Output filters act on the templated output when it is
        executed. This filter type is ideal for the implementation of short
        urls and as such short urls are a smarty output filter in XTE.</para>
      </section>

      <section id="Xanthia.User.CommonTasks.ShortURLs.Implementing">
        <title>Implementing Short URLs</title>

        <para>Firstly ensure that your web server has a rewrite engine
        available. If using a rewrite engine other than apaches mod_rewrite
        then the rewrite engines script file will need to be built. If using
        apaches mod_rewrite then place the <filename>.htaccess</filename> file
        for the chosen naming scheme into the PostNuke root. These files can
        be found in <filename>modules/Xanthia/pndocs/short_urls</filename>.
        Pick the <filename>.htaccess</filename> file for your chosen extension
        and place this in the PostNuke root directory.</para>

        <para>Under Xanthia\pndocs\short_urls p Short urls will now work if
        typed into the browser so you can test at this point prior to getting
        PN to generate short urls. Now go into the xanthia admin panel and
        you'll have the option to configure shorts urls. Adding your chosen
        extension and enabled short urls.</para>

        <para>Next test the rewrite engine is functioning by visiting
        http:///yoursiteurl/user.html (or your chosen extension). If the
        rewrite engine is functioning then you will, in effect, be going to
        user.php.</para>

        <para>If the rewrite engine is functoning correctly then go to the
        Xanthia admin panel (administration-&gt;Xanthia). Select the configure
        Xanthia option and then enter your chosen extension and then enable
        the short urls option.</para>
      </section>
    </section>
  </section>

  <section id="Xanthia.User.FAQ">
    <title>Frequently Asked Questions</title>

    <qandaset>
      <qandadiv>
        <title>Errors</title>

        <qandaentry>
          <question>
            <para>Xanthia has encountered a fatal error in Zone: .... A
            required Zone template was either not found or failed to
            load.</para>
          </question>

          <answer>
            <para>The error indicates that Xanthia didn't find a template for
            a given zone. Check that template is present in the templates
            directory for your theme. Use the "PostNuke Swiss Army Knife"
            (PSAK) tool available from <ulink
            url="http://downloads.postnuke.com">http://downloads.postnuke.com</ulink>
            to change back to a known good theme.</para>
          </answer>
        </qandaentry>

        <qandaentry>
          <question>
            <para>I don't have the "<guimenuitem>short URLs</guimenuitem>"
            option in the Xanthia Configuration</para>
          </question>

          <answer>
            <para>The Xanthia Admin panel will only show the short URLs
            configuration option once you have the
            <filename>.htaccess</filename> file in place. (See <xref
            linkend="Xanthia.User.CommonTasks.ShortURLs.How" />). When the
            xanthia module is initialised it checks to see if the server is
            re-write capable but once installed there doesn't seem to be a way
            confirm that rewrite support is available. If this detection has
            failed, you'll have to edit the Database directly (using
            phpMyAdmin or a similar tool). In the table
            <filename><replaceable>&lt;prefix&gt;</replaceable>_module_vars</filename>
            locate the module variable pn_modname = Xanthia pn_name
            =shorturlsok. If it's value is 0 then set it to 1.</para>
          </answer>
        </qandaentry>
      </qandadiv>

      <qandadiv>
        <title>Blocks and Block Placement</title>

        <qandaentry>
          <question>
            <para>I activated a Xanthia theme, and now all right and center
            blocks show up on all pages!</para>
          </question>

          <answer>
            <para>By default all blocks show on all pages. To remove the
            centre block you need to go to <menuchoice>
                <guimenu>Administration</guimenu>

                <guisubmenu>Xanthia</guisubmenu>

                <guisubmenu>View Themes</guisubmenu>

                <guisubmenu>Edit Theme</guisubmenu>

                <guimenuitem>Block Control</guimenuitem>
              </menuchoice> and delete the blocks you do not want to appear
            from the list under the module. Or turn on visual block
            administration in the xanthia configuration page and remove the
            blocks by visiting each module in turn and removing the ones you
            don't want.</para>
          </answer>
        </qandaentry>

        <qandaentry>
          <question>
            <para>I added a new Block in the Block Administration, but it
            doesn't show up on any page</para>
          </question>

          <answer>
            <para>This is the same issue as above. Use <guimenuitem>Block
            Control</guimenuitem> or the Visual Block Editor to enable the
            block.</para>
          </answer>
        </qandaentry>

        <qandaentry>
          <question>
            <para>How do you add a block to the new zone and have it appear on
            all pages? The current way only appears to allow adding it to
            individual modules one at a time.</para>
          </question>

          <answer>
            <para>The only to do it currently to to add it to each module.
            When a theme is initialised all blocks are added to all modules by
            default. But after this blocks need adding to each module
            manually. This will be fxed in future releases</para>
          </answer>
        </qandaentry>

        <qandaentry>
          <question>
            <para>I want to show right blocks on the News start page, but not
            on the article pages. How do I achive this?</para>
          </question>

          <answer>
            <para>Due to the architecture of the .7x News module there is
            small hack in place in the current release of Xanthia. If you look
            under <menuchoice>
                <guimenu>Administration</guimenu>

                <guisubmenu>Xanthia</guisubmenu>

                <guisubmenu>View Themes</guisubmenu>

                <guisubmenu>Edit Theme</guisubmenu>

                <guimenuitem>Theme Settings</guimenuitem>
              </menuchoice>, you'll see an option labelled <guimenuitem>Show
            right blocks in news module (only for .7x)</guimenuitem>. This
            will turn on of off the right column for the news module.</para>

            <para>This option is necessary as the .7x news module has it's own
            internal hard-coded right blocks. The necessity for this willl be
            removed for PostNuke .8.</para>
          </answer>
        </qandaentry>
      </qandadiv>

      <qandadiv>
        <title>Design</title>

        <qandaentry>
          <question>
            <para>Ich möchte, daß die Startseite ein anderes Layout hat, als
            andere Seiten. Wie kann ich das Layout des Moduls ändern, das als
            Start-Modul gesetzt ist?</para>
          </question>

          <answer>
            <para>Das ist hier erklärt: <xref
            linkend="Xanthia.User.ModuleTemplates" /></para>
          </answer>
        </qandaentry>

        <qandaentry>
          <question>
            <para>Ich habe ein Xanthia Theme eingestellt und nun erscheinen
            meine News in zwei Spalten...</para>
          </question>

          <answer>
            <para>Schau unter
            <guimenu>Administration</guimenu><guisubmenu>Xanthia</guisubmenu><guisubmenu>View
            Themes</guisubmenu><guisubmenu>Edit
            Theme</guisubmenu><guimenuitem>Theme Settings</guimenuitem> nach
            der <guimenuitem>indexcol</guimenuitem> theme setting. Diese
            stellt die Anzahl der Spalten ein. As the theme settings are
            defined on a per theme basis the language files, in some themes
            aren't as clear as they could be.</para>
          </answer>
        </qandaentry>

        <qandaentry>
          <question>
            <para>Ist es möglich, dynanamische Ausgabefilter anzugeben, die
            Xanthia beachtet?</para>
          </question>

          <answer>
            <para>Im Moment gibt es keine Möglichkeit, Filter wie "kopiere
            dies in ein Verzeichnis und aktiviere es im Amin-Menü" einzufügen.
            Das kann man aber in der theme.php einstellen. Wenn die engine
            initialisiert ist, füge folgendes ein:</para>

            <programlisting>$engine-&gt;load_filter('&lt;filtertype&gt;', '&lt;filtername&gt;');</programlisting>
          </answer>
        </qandaentry>
      </qandadiv>

      <qandadiv>
        <title>Compatibility</title>

        <qandaentry>
          <question>
            <para>Kann ich ein Envolution Theme für Xanthia nehmen?</para>
          </question>

          <answer>
            <para>Envolution Themes arbeiten nicht mit Xanthia zusammen
            seitdem ein Großteil des Codes bearbeitet wurde, um weitere
            Funktionen einzubauen. Es ist jedoch recht einfach möglich, diese
            Themes für Xanthia zu konvertieren, da die Struktur den Encompass
            Themes sehr ähnlich ist.</para>
          </answer>
        </qandaentry>

        <qandaentry>
          <question>
            <para>Kann ich AutoTheme neben Xanthia betreiben?</para>
          </question>

          <answer>
            <para>Ja. Es treten keinerlei Probleme auf.</para>
          </answer>
        </qandaentry>
      </qandadiv>

      <qandadiv>
        <title>General</title>

        <qandaentry>
          <question>
            <para>Ich habe gehört, daß Xanthia Themes wesentlich langsamer
            laufen als traditionelle Themes?</para>
          </question>

          <answer>
            <para>Es ist war, daß Xanthia RC2 nicht auf Schnelligkeit
            ausgelegt wurde. Aber viele Änderungen wurden im Laufe der Zeit
            durchgeführt, um die Performance zu verbessern. Diese beinhalteten
            eine starke Abnahme der Datenbank Anfragen. Tests haben gezeigt,
            daß die aktuelle Veröffentlichung fast so schnell ist wie ein
            traditionelles Theme.</para>
          </answer>
        </qandaentry>
      </qandadiv>
    </qandaset>
  </section>

  <section id="Xanthia.User.XanthiaBlock">
    <title>The "Xanthia/Display module in a block" block</title>

    <para>Xanthia ships with a block named "Display module in a block". This
    block will allow you display the output of any GUI function from any API
    compliant module.</para>

    <para>To expand on that a little (using pagesetter as the example). Take
    the pagesetter url
    <command>index.php?module=<replaceable>pagesetter</replaceable>&amp;func=<replaceable>viewpub</replaceable>&amp;tid=<replaceable>7</replaceable>&amp;pid=<replaceable>24</replaceable></command>
    and break it into a number of components. Save the block and postion as
    you like.</para>

    <variablelist>
      <varlistentry>
        <term><command>index.php</command></term>

        <listitem>
          <para>this is the entry point. All API compliant modules use
          index.php as the entry point. So you can't use this block to display
          the output from a module that uses modules.php as the entry point
          (it's not an API compliant one).</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><command>module=<replaceable>pagesetter</replaceable></command></term>

        <listitem>
          <para>this is the module name and is selected from the first box in
          the blocks configuration</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><command>func=<replaceable>viewpub</replaceable></command></term>

        <listitem>
          <para>this is the function name and is entered from the second box
          in the blocks configuration. Enter only the function name - in this
          example viewpub</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><command>tid=<replaceable>7</replaceable>&amp;pid=<replaceable>24</replaceable></command></term>

        <listitem>
          <para>(the rest) - these are the arguments passed to the function
          and are entered in the third box. Enter the remainder of the URL as
          is minus the starting &amp; i.e. tid=7&amp;pid=24.</para>
        </listitem>
      </varlistentry>
    </variablelist>

    <para>This block only works for API compliant modules i.e. those whose url
    goes through index.php
    (<command>index.php?module=<replaceable>&lt;modname&gt;</replaceable></command>).
    The reason for this is that for older modules the module itself outputs
    the site header and footer so there's no way to get to the output of
    module itself. Newer modules we can get the module output directory and
    add it into a block.</para>

    <para>All modules in PostNuke .8 will be pnAPI compliant so the block was
    included in Xanthia with a view to PostNuke .8.</para>
  </section>
</chapter>