<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.2//EN"
"http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd">
<chapter id="menues" lang="de_DE" status="draft">
  <!-- $Id$ -->

  <chapterinfo>
    <releaseinfo>$Revision$</releaseinfo>

    <date>$Date$</date>
  </chapterinfo>

  <title>Die wichtigsten Blöcke</title>

  <section id="genericmenu">
    <title>Core/Generic menu &mdash; Der wichtigste Navigationsblock<indexterm>
        <primary>Menü</primary>
      </indexterm><indexterm>
        <primary>Blöcke</primary>

        <secondary>Generic Menu</secondary>
      </indexterm><indexterm>
        <primary>Blöcke</primary>

        <secondary>Menüblock</secondary>
      </indexterm></title>

    <para>Dieser Block ist die am häufigsten eingesetzte Methode, um ein Menü
    zu erzeugen. Neben den für alle Blöcke verfügbaren Einstellungen Titel,
    Position und Sprache bietet er die folgenden
    Einstellungsmöglichkeiten:</para>

    <variablelist>
      <varlistentry>
        <term>Menü-Format</term>

        <listitem>
          <para>List-Menü oder Dropdown-Menü, die Art, wie das Menü angezeigt
          wird.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Anzeige Module</term>

        <listitem>
          <para>Wenn angekreuzt, werden alle aktiven Module angezeigt. Die
          angezeigten Namen können in der Administration der Module verändert
          werden.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Anzeige zu prüfen</term>

        <listitem>
          <para>Wenn angekreuzt, werden eingegangene Artikel etc, die noch zu
          überprüfen sind, angezeigt</para>
        </listitem>
      </varlistentry>
    </variablelist>

    <para>Für die Einträge in der Menüliste gibt es folgende Werte</para>

    <variablelist>
      <varlistentry>
        <term>Titel</term>

        <listitem>
          <para>Der Titel, der als Menütitel angezeigt wird</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>URL</term>

        <listitem>
          <para>Die URL, zu der beim Anklicken gesprungen werden soll.</para>

          <para>Will man zu einem Modul direkt springen, so kann man auch die
          Kurzform [Modul:Datei] bzw. {Modul:Funktion} verwenden. Dabei
          gilt:</para>

          <bridgehead>die "alte" Art der Adressierung</bridgehead>

          <para>Diese wird z.B. für die Module News, Downloads, FAQ, Reviews,
          Search usw. benutzt.</para>

          <variablelist>
            <varlistentry>
              <term><userinput>[<replaceable>Modul</replaceable>]</userinput></term>

              <listitem>
                <para><systemitem>modules.php?op=modload&amp;name=<replaceable>Modul</replaceable>&amp;file=index</systemitem></para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><userinput>[<replaceable>Modul</replaceable>:<replaceable>Datei</replaceable>]</userinput></term>

              <listitem>
                <para><systemitem>modules.php?op=modload&amp;name=<replaceable>Modul</replaceable>&amp;file=<replaceable>Datei</replaceable></systemitem></para>
              </listitem>
            </varlistentry>
          </variablelist>

          <bridgehead>die "neue" Art der Adressierung</bridgehead>

          <para>Diese ist für alle pnAPI-konformen Module zu benutzen, also
          z.B. für ContentExpress, pnAddressBook, PostCalendar usw.</para>

          <variablelist>
            <varlistentry>
              <term><userinput>{<replaceable>Modul</replaceable>}</userinput></term>

              <listitem>
                <para><systemitem>index.php?module=<replaceable>Modul</replaceable>&amp;func=main</systemitem></para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><userinput>{<replaceable>Modul</replaceable>:<replaceable>Funktion</replaceable>}</userinput></term>

              <listitem>
                <para><systemitem>index.php?module=<replaceable>Modul</replaceable>&amp;func=<replaceable>Funktion</replaceable></systemitem></para>
              </listitem>
            </varlistentry>
          </variablelist>

          <para>Eventuell notwendige zusätzliche Parameter müssen <emphasis
          role="bold">in</emphasis> die Klammer und nicht dahinter! Man kann
          auch z.B. mit
          <userinput>{<replaceable>Modul</replaceable>:<replaceable>Funktion</replaceable>&amp;<replaceable>sid</replaceable>=<replaceable>1</replaceable>}</userinput>
          noch weitere Daten übergeben</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Beschreibung</term>

        <listitem>
          <para>Die Beschreibung wird angezeigt, wenn die Maus über einem Link
          verweilt</para>
        </listitem>
      </varlistentry>
    </variablelist>

    <section id="genericmenupermissions">
      <title>Zugriffsrechte für das Hauptmenü<indexterm>
          <primary>Zugriffsrechte</primary>

          <secondary>Menüblock</secondary>
        </indexterm><indexterm>
          <primary>Menüblock</primary>

          <secondary>Zugriffsrechte</secondary>
        </indexterm><indexterm>
          <primary>Blöcke</primary>

          <secondary>Generic Menu</secondary>

          <tertiary>Zugriffsrechte</tertiary>
        </indexterm><indexterm>
          <primary>Blöcke</primary>

          <secondary>Menüblock</secondary>

          <tertiary>Zugriffsrechte</tertiary>
        </indexterm></title>

      <para>Ein gutes Beispiel für die Anwendung des PostNuke
      Berechtigunssystems liefert das Hauptmenü.</para>

      <para>Nehmen wir einmal an, wir hätten einen Menü-Block mit dem Namen
      <guimenu>Hauptmenü</guimenu> und den Punkten
      <guimenuitem>Home</guimenuitem>, <guimenuitem>mein
      Account</guimenuitem>, <guimenuitem>Mitglied werden</guimenuitem>,
      <guimenuitem>Administration</guimenuitem> und
      <guimenuitem>Logout</guimenuitem>. Nun sollen <emphasis>alle
      Benutzer</emphasis> <guimenuitem>Home</guimenuitem> sehen, alle
      <emphasis>registrierten Benutzer</emphasis> zusätzlich <guimenuitem>mein
      Account</guimenuitem> und <guimenuitem>Logout</guimenuitem>, alle
      <emphasis>Administratoren</emphasis>
      <guimenuitem>Administration</guimenuitem> und alle Gäste
      <guimenuitem>Mitglied werden</guimenuitem>.</para>

      <para>Als nächstes ist die jeweilige Gruppe zu bestimmen. Zunächst die
      Admins, dann die User und zum Schluß die Gäste. Warum? weil das System
      dem Prinzip "First Match" folgt, das heißt also, die erste positive
      Übereinstimmung die Suche beendet. Es ist also immer darauf zu achten,
      daß die komplexen oder sehr speziellen Einschränkungen zuerst
      erfolgen.</para>

      <para>Für den Admin wählt man dann die Komponente (in diesem Fall immer
      "Menublock::").</para>

      <para>Die Instanz setzt sich bei Menüblöcken aus dem Titel und dem
      Menüpunkt zusammen. Hier soll nun "Mitglied werden" verboten werden,
      alles andere ist für den Admin erlaubt:</para>

      <segmentedlist>
        <segtitle>Gruppe</segtitle>

        <segtitle>Komponente</segtitle>

        <segtitle>Instanz</segtitle>

        <segtitle>Recht</segtitle>

        <seglistitem>
          <seg>Admins</seg>

          <seg>Menublock::</seg>

          <seg>Hauptmenü:Mitglied werden:</seg>

          <seg>keines</seg>
        </seglistitem>

        <seglistitem>
          <seg>Admins</seg>

          <seg>.*</seg>

          <seg>.*</seg>

          <seg>administrieren</seg>
        </seglistitem>

        <seglistitem>
          <seg>alle Gruppen</seg>

          <seg>Menublock::</seg>

          <seg>Hauptmenü:Administration:</seg>

          <seg>keines</seg>
        </seglistitem>

        <seglistitem>
          <seg>Users</seg>

          <seg>Menublock::</seg>

          <seg>Hauptmenü:(mein Account|Logout):</seg>

          <seg>kommentieren</seg>
        </seglistitem>

        <seglistitem>
          <seg>Users</seg>

          <seg>Menublock::</seg>

          <seg>Hauptmenü:Mitglied werden:</seg>

          <seg>keines</seg>
        </seglistitem>

        <seglistitem>
          <seg>Users</seg>

          <seg>.*</seg>

          <seg>.*</seg>

          <seg>kommentieren</seg>
        </seglistitem>
      </segmentedlist>

      <para>Somit ist dann das Menü so aufgebaut, dass es je nach Userstatus
      entsprechend angezeigt wird.</para>
    </section>
  </section>

  <section id="weiterebloecke">
    <title>Weitere Blöcke</title>

    <para>Mit den hier aufgezählten Blöcken lassen sich Menüs, Informationen
    usw. anzeigen.</para>

    <section id="buttonlinkblock">
      <title>Core/Button Link Block<indexterm>
          <primary>Button Link Block</primary>
        </indexterm><indexterm>
          <primary>Blöcke</primary>

          <secondary>Button Link</secondary>
        </indexterm></title>

      <para>Mit vorhanden Grafiken kann hier einfach eine Navigation mit
      Buttons erstellt werden. Außerdem lassen sich damit auch die beliebten
      88x31 Buttons sammeln.</para>
    </section>

    <section id="plaintextblock">
      <title>Core/Plain Text<indexterm>
          <primary>Plain text Block</primary>
        </indexterm><indexterm>
          <primary>Blöcke</primary>

          <secondary>Plain Text</secondary>
        </indexterm></title>

      <para>Eine einfache Möglichkeit, Text in einem Block
      darzustellen.</para>
    </section>

    <section id="htmlblock">
      <title>Core/HTML<indexterm>
          <primary>HTML-Block</primary>
        </indexterm><indexterm>
          <primary>Blöcke</primary>

          <secondary>HTML-Block</secondary>
        </indexterm></title>

      <para>Dieser Block lädt als Inhalt die angegebenen HTML-Tags.</para>

      <tip>
        <para>Viele Webdienste gestatten es (ggfls. per Anmeldung), Dienste
        wie Wetter, Anfahrtsbeschreibung etc. auf der eigenen Webseite
        einzubauen. Dazu stellen diese HTML-Schnipsel zur Verfügung, die in
        die eigene Webseite eingebaut werden sollen.</para>

        <para>Dazu ist der HTML-Block ideal: Man erstellt einfach einen neuen
        Block "core/HTML" und kopiert im nächsten Menü den HTML-Code, den man
        vom Anbieter erhalten hat, in das Inhaltsfeld und fertig!</para>
      </tip>
    </section>

    <section id="fileincludeblock">
      <title>Core/Simple File Include<indexterm>
          <primary>File Include Block</primary>
        </indexterm><indexterm>
          <primary>Blöcke</primary>

          <secondary>File Include</secondary>
        </indexterm></title>

      <para>Dieser Block lädt als Inhalt eine vorgebene Datei (z.B.
      PHP)</para>
    </section>

    <section id="phpscriptblock">
      <title>Core/PHP Script<indexterm>
          <primary>PHP Skript Block</primary>
        </indexterm><indexterm>
          <primary>Blöcke</primary>

          <secondary>PHP Skript</secondary>
        </indexterm></title>

      <para>Dieser Block lädt als Inhalt eine vorgebene PHP-Datei.</para>

      <important>
        <itemizedlist>
          <listitem>
            <para>Die Datei darf <markup>&lt;?php</markup> und
            <markup>?&gt;</markup> <emphasis role="bold">nicht</emphasis>
            enthalten.</para>
          </listitem>

          <listitem>
            <para>Die Größe ist auf auf 64k beschränkt.</para>
          </listitem>

          <listitem>
            <para>Datenbankzugriffe sind nicht erlaubt.</para>
          </listitem>
        </itemizedlist>
      </important>
    </section>

    <section id="searchblock">
      <title>Core/Search Box<indexterm>
          <primary>Search Box</primary>
        </indexterm><indexterm>
          <primary>Suchbox</primary>
        </indexterm><indexterm>
          <primary>Blöcke</primary>

          <secondary>Search Box</secondary>
        </indexterm><indexterm>
          <primary>Blöcke</primary>

          <secondary>Suchbox</secondary>
        </indexterm></title>

      <para>Ein Block der eine Suchfunktion anbietet. Bei aktiviertem Block
      kann man in der Blockadministration auf 'editieren' klicken, um die
      Suche in einzelnen Modulen zu aktivieren oder zu deaktivieren.</para>

      <para>Es besteht auch die Möglichkeit, ein Suchfunktion direkt in das
      Theme einzubauen.</para>
    </section>
  </section>
</chapter>