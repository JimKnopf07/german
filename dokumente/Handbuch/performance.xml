<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE appendix PUBLIC "-//OASIS//DTD DocBook XML V4.2//EN"
"http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd">
<appendix>
  <appendixinfo>
    <releaseinfo>$Revision$</releaseinfo>

    <date>$Date$</date>
  </appendixinfo>

  <title>Performance</title>

  <para>Neben einer guten Anbindung und einer schnellen Datenbank kann man die
  Performance von PostNuke mit ein paar kleinen Eingriffen weiter
  optimieren.</para>

  <section>
    <title>Optimierung der Konfiguration</title>

    <itemizedlist>
      <listitem>
        <para>unnötige Module und Blöcke entfernen und ggfs. aus dem
        <filename>/html/modules/</filename> Verzeichnis löschen</para>
      </listitem>

      <listitem>
        <para>unnötige Autolinks-Einträge entfernen bzw. Autolinks komplett
        deaktivieren</para>
      </listitem>

      <listitem>
        <para>keine dynamischen Keywords generieren lassen</para>
      </listitem>
    </itemizedlist>
  </section>

  <section>
    <title>Setzen weiterer Index-Felder</title>

    <para>Gerade für grössere Installationen sind die Indexfelder der
    PostNuke-Datenbank noch nicht optimal ausgeschöpft, durch hinzufügen
    einiger Indizes kann die Performance gesteigert werden:<programlisting>alter table <replaceable>nuke</replaceable>_comments add index idx_pid (pn_pid);
alter table <replaceable>nuke</replaceable>_comments add index idx_sid (pn_sid);
alter table <replaceable>nuke</replaceable>_group_membership add index idx_ug (pn_uid,pn_gid);
alter table <replaceable>nuke</replaceable>_message add index idx_exp (pn_active,pn_expire);
alter table <replaceable>nuke</replaceable>_modules add index idx_name (pn_name);
alter table <replaceable>nuke</replaceable>_poll_data add index idx_pollid (pn_pollid);
alter table <replaceable>nuke</replaceable>_pollcomments add index idx_pollid (pn_pollid);
alter table <replaceable>nuke</replaceable>_referer add index idx_url (pn_url);
alter table <replaceable>nuke</replaceable>_stats_date add index idx_date (pn_date);
alter table <replaceable>nuke</replaceable>_session_info add index idx_last (pn_lastused);
alter table <replaceable>nuke</replaceable>_stories add index idx_catid (pn_catid);
alter table <replaceable>nuke</replaceable>_stories add index idx_topic (pn_topic);
alter table <replaceable>nuke</replaceable>_user_data add index idx_uid (pn_uda_uid);
alter table <replaceable>nuke</replaceable>_userblocks add index idx_ub (pn_uid,pn_bid);
alter table <replaceable>nuke</replaceable>_users add index idx_uname (pn_uname);</programlisting>Ein
    regelmässiges optimieren der umfangreicheren Tabellen (z.B. mit
    PHPMyAdmin) hilft ebenfalls, die Query-Zeiten zu verbessern.<caution>
        <para>Vor allen Änderungen an der Datenbank sollte ein Dump angelegt
        werden!</para>
      </caution></para>
  </section>
</appendix>